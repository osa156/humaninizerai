
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Humanizer ‚Äî GitHub API Version</title>
  <style>
    body{font-family:system-ui, -apple-system, "Segoe UI", Roboto, Arial; background:#f3f6fb; padding:20px}
    .card{max-width:900px;margin:0 auto;background:#fff;padding:18px;border-radius:10px;box-shadow:0 6px 20px rgba(10,20,30,0.06)}
    textarea{width:100%;min-height:140px;padding:10px;border-radius:8px;border:1px solid #ddd}
    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .controls{display:flex;gap:8px;align-items:center}
    button{background:#0b63ff;color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}
    button.secondary{background:#eef2ff;color:#033}
    button:disabled{background:#ccc;cursor:not-allowed}
    .output{white-space:pre-wrap;background:#fcfeff;border:1px solid #e7eefb;padding:12px;border-radius:8px;min-height:100px;margin-top:8px}
    .small{font-size:13px;color:#666}
    .danger{color:#b22222}
    .success{color:#228b22}
    .spinner{display:inline-block;border:3px solid #eee;border-left-color:#0b63ff;border-radius:50%;width:14px;height:14px;animation:spin 1s linear infinite;vertical-align:middle;margin-right:8px}
    @keyframes spin{to{transform:rotate(360deg)}}
    footer{font-size:13px;color:#666;margin-top:14px}
    input[type="text"],select,input[type="number"]{padding:7px;border-radius:8px;border:1px solid #ddd}
    .copy-btn{background:#28a745;margin-top:8px}
    .copy-btn.copied{background:#6c757d}
  </style>
</head>
<body>
  <div class="card">
    <h2>Humanizer ‚Äî GitHub API Version</h2>
    <p class="small">Paste text, set options, and click <strong>Humanize</strong>. Uses GitHub API for repository data and client-side text processing.</p>

    <label class="small">Text to humanize</label>
    <textarea id="inputText">The application requires the user to input their credentials in order to gain access to the system. It is imperative that all required fields are completed accurately to ensure proper authentication.</textarea>

    <div class="row" style="margin-top:8px">
      <div class="controls">
        <label class="small">Tone
          <select id="tone">
            <option value="friendly">Friendly</option>
            <option value="professional">Professional</option>
            <option value="casual">Casual</option>
            <option value="enthusiastic">Enthusiastic</option>
          </select>
        </label>
        <label class="small">Intensity
          <input id="intensity" type="range" min="1" max="5" step="1" value="3"/>
          <span id="intensityValue">3</span>
        </label>
      </div>

      <div style="margin-left:auto">
        <button id="humanizeBtn">Humanize</button>
      </div>
    </div>

    <div id="status" style="margin-top:12px;min-height:22px"></div>

    <div style="margin-top:12px">
      <label class="small">Output</label>
      <div id="output" class="output"></div>
      <button id="copyBtn" class="copy-btn" style="display:none">Copy Output</button>
    </div>

    <div style="margin-top:20px">
      <h3>GitHub Repository Info</h3>
      <div class="row">
        <input id="repoInput" type="text" value="facebook/react" placeholder="owner/repo" style="flex:1"/>
        <button id="fetchRepoBtn" class="secondary">Fetch Repo Info</button>
      </div>
      <div id="repoInfo" class="output" style="margin-top:8px"></div>
    </div>

    <footer>
      <div>
        <strong>How it works:</strong> This app uses client-side text transformation algorithms to humanize text, 
        and can fetch repository information from GitHub's public API.
      </div>
    </footer>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // UI elements
      const inputText = document.getElementById('inputText');
      const humanizeBtn = document.getElementById('humanizeBtn');
      const outputDiv = document.getElementById('output');
      const statusDiv = document.getElementById('status');
      const toneEl = document.getElementById('tone');
      const intensityEl = document.getElementById('intensity');
      const intensityValue = document.getElementById('intensityValue');
      const repoInput = document.getElementById('repoInput');
      const fetchRepoBtn = document.getElementById('fetchRepoBtn');
      const repoInfo = document.getElementById('repoInfo');
      const copyBtn = document.getElementById('copyBtn');

      // Update intensity value display
      intensityEl.addEventListener('input', () => {
        intensityValue.textContent = intensityEl.value;
      });

      function setStatus(text, isError=false, showSpinner=false) {
        statusDiv.innerHTML = (showSpinner ? '<span class="spinner"></span>' : '') + (text || '');
        statusDiv.className = isError ? 'danger' : (text && !showSpinner ? 'success' : '');
        console.log('STATUS:', text);
      }

      // Copy button functionality
      copyBtn.addEventListener('click', async () => {
        const outputText = outputDiv.textContent;
        if (!outputText || outputText === '(empty result)') {
          setStatus('Nothing to copy', true, false);
          return;
        }

        try {
          await navigator.clipboard.writeText(outputText);
          copyBtn.textContent = 'Copied!';
          copyBtn.classList.add('copied');
          setStatus('Output copied to clipboard!', false, false);
          
          // Reset button after 2 seconds
          setTimeout(() => {
            copyBtn.textContent = 'Copy Output';
            copyBtn.classList.remove('copied');
          }, 2000);
        } catch (err) {
          console.error('Failed to copy text: ', err);
          setStatus('Failed to copy text', true, false);
        }
      });

      // Text transformation functions
      function humanizeText(text, tone, intensity) {
        let result = text;
        
        // Apply transformations based on tone
        switch(tone) {
          case 'friendly':
            result = makeFriendly(result, intensity);
            break;
          case 'professional':
            result = makeProfessional(result, intensity);
            break;
          case 'casual':
            result = makeCasual(result, intensity);
            break;
          case 'enthusiastic':
            result = makeEnthusiastic(result, intensity);
            break;
        }
        
        return result;
      }

      function makeFriendly(text, intensity) {
        let result = text;
        
        // Replace formal phrases with friendly ones
        const replacements = {
          'it is necessary to': 'you need to',
          'it is imperative that': "it's important that",
          'the user must': 'you should',
          'the application requires': 'the app needs',
          'in order to': 'to',
          'ensure that': 'make sure',
          'utilize': 'use',
          'assistance': 'help',
          'commence': 'start',
          'terminate': 'end',
          'approximately': 'about',
          'subsequently': 'then',
          'therefore': 'so',
          'however': 'but',
          'additionally': 'also'
        };
        
        for (const [formal, friendly] of Object.entries(replacements)) {
          const regex = new RegExp(formal, 'gi');
          result = result.replace(regex, friendly);
        }
        
        // Add casual punctuation based on intensity
        if (intensity >= 4) {
          if (!result.endsWith('!') && !result.endsWith('?')) {
            result = result.replace(/\.$/, '!');
          }
        }
        
        return result;
      }

      function makeProfessional(text, intensity) {
        let result = text;
        
        // Make text more formal
        const replacements = {
          'you need to': 'it is necessary to',
          "it's important that": 'it is imperative that',
          'you should': 'the user must',
          'the app needs': 'the application requires',
          'make sure': 'ensure that',
          'use': 'utilize',
          'help': 'assistance',
          'start': 'commence',
          'end': 'terminate',
          'about': 'approximately',
          'then': 'subsequently',
          'so': 'therefore',
          'but': 'however',
          'also': 'additionally'
        };
        
        for (const [casual, formal] of Object.entries(replacements)) {
          const regex = new RegExp(casual, 'gi');
          result = result.replace(regex, formal);
        }
        
        return result;
      }

      function makeCasual(text, intensity) {
        let result = text;
        
        // Make text more casual
        const replacements = {
          'it is necessary to': 'you gotta',
          'it is imperative that': "it's really important that",
          'the user must': 'you should',
          'the application requires': 'the app needs',
          'in order to': 'to',
          'ensure that': 'make sure',
          'utilize': 'use',
          'assistance': 'help',
          'commence': 'start',
          'terminate': 'stop',
          'approximately': 'about',
          'subsequently': 'then',
          'therefore': 'so',
          'however': 'but',
          'additionally': 'also',
          'please': '',
          'kindly': ''
        };
        
        for (const [formal, casual] of Object.entries(replacements)) {
          const regex = new RegExp(formal, 'gi');
          result = result.replace(regex, casual);
        }
        
        // Add contractions
        result = result.replace(/it is/gi, "it's");
        result = result.replace(/you are/gi, "you're");
        result = result.replace(/they are/gi, "they're");
        result = result.replace(/we are/gi, "we're");
        result = result.replace(/cannot/gi, "can't");
        result = result.replace(/do not/gi, "don't");
        result = result.replace(/does not/gi, "doesn't");
        
        return result;
      }

      function makeEnthusiastic(text, intensity) {
        let result = text;
        
        // Make text more enthusiastic
        const enthusiasticWords = ['awesome', 'amazing', 'fantastic', 'great', 'wonderful', 'exciting'];
        
        // Add enthusiastic adjectives
        if (intensity >= 3) {
          result = result.replace(/\b(good|nice|fine)\b/gi, () => {
            return enthusiasticWords[Math.floor(Math.random() * enthusiasticWords.length)];
          });
        }
        
        // Add exclamation points
        if (intensity >= 2) {
          const sentences = result.split('. ');
          result = sentences.map(sentence => {
            if (sentence.length > 10 && !sentence.endsWith('!') && !sentence.endsWith('?')) {
              // Add exclamation to some sentences based on intensity
              if (Math.random() < intensity * 0.2) {
                return sentence + '!';
              }
            }
            return sentence;
          }).join('. ');
        }
        
        // Add enthusiastic phrases
        if (intensity >= 4) {
          const phrases = ["It's really exciting!", "This is fantastic!", "How awesome is that!"];
          if (Math.random() < 0.3) {
            result += " " + phrases[Math.floor(Math.random() * phrases.length)];
          }
        }
        
        return result;
      }

      // Main humanize handler
      humanizeBtn.addEventListener('click', async (e) => {
        e.preventDefault();
        outputDiv.textContent = '';
        setStatus('', false, false);
        copyBtn.style.display = 'none';

        const raw = (inputText.value || '').trim();
        if (!raw) { 
          setStatus('Error: Paste or type text to humanize', true, false);
          return; 
        }

        const tone = toneEl.value || 'friendly';
        const intensity = parseInt(intensityEl.value, 10) || 3;

        setStatus('Processing text...', false, true);
        humanizeBtn.disabled = true;

        // Simulate API delay for better UX
        setTimeout(() => {
          try {
            const result = humanizeText(raw, tone, intensity);
            outputDiv.textContent = result;
            setStatus('Done!', false, false);
            
            // Show copy button if we have output
            if (result && result !== '(empty result)') {
              copyBtn.style.display = 'block';
              copyBtn.textContent = 'Copy Output';
              copyBtn.classList.remove('copied');
            }
          } catch (err) {
            console.error('Processing error', err);
            setStatus('Error processing text', true, false);
            outputDiv.textContent = 'Error: ' + (err.message || String(err));
          } finally {
            humanizeBtn.disabled = false;
          }
        }, 800);
      });

      // GitHub API handler
      fetchRepoBtn.addEventListener('click', async () => {
        const repo = (repoInput.value || '').trim();
        if (!repo) {
          setStatus('Error: Enter a repository in format owner/repo', true, false);
          return;
        }

        if (!repo.includes('/')) {
          setStatus('Error: Repository should be in format owner/repo', true, false);
          return;
        }

        setStatus('Fetching repository info...', false, true);
        fetchRepoBtn.disabled = true;

        try {
          const response = await fetch(`https://api.github.com/repos/${repo}`);
          
          if (!response.ok) {
            throw new Error(`GitHub API error: ${response.status} ${response.statusText}`);
          }
          
          const data = await response.json();
          
          // Display repository information
          repoInfo.innerHTML = `
            <strong>${data.full_name}</strong><br>
            ${data.description || 'No description'}<br>
            ‚≠ê Stars: ${data.stargazers_count.toLocaleString()} | 
            üç¥ Forks: ${data.forks_count.toLocaleString()} | 
            üìù Language: ${data.language || 'Not specified'}<br>
            <a href="${data.html_url}" target="_blank">View on GitHub</a>
          `;
          
          setStatus('Repository info fetched successfully!', false, false);
        } catch (err) {
          console.error('GitHub API error', err);
          setStatus('Error fetching repository info', true, false);
          repoInfo.textContent = 'Error: ' + (err.message || String(err));
        } finally {
          fetchRepoBtn.disabled = false;
        }
      });

      // Add Enter key support for the textarea
      inputText.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {
          e.preventDefault();
          humanizeBtn.click();
        }
      });

      console.log('Humanizer UI ready ‚Äî button should work. Click "Humanize" to test.');
    });
  </script>
</body>
</html>